Si read() retourne 0 (fin de fichier). 
et que tu as déjà quelque chose dans stockbuffer (reste non vide). 
tu devrais retourner ce qui est stocké, même s’il n’y a pas de \n.
Sinon tu perds la dernière ligne.
Sinon tu perds la dernière ligne.
Sinon tu perds la dernière ligne.
Sinon tu perds la dernière ligne.